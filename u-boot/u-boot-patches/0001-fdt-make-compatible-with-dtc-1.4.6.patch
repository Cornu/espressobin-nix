From a2a6458093dfabc717c25f882ddc0dfd5437bf6f Mon Sep 17 00:00:00 2001
From: Andrew Abbott <mirrexagon@mirrexagon.com>
Date: Sat, 13 Jul 2019 15:41:05 +1000
Subject: [PATCH 1/2] fdt: make compatible with dtc >=1.4.6

Method from https://github.com/NixOS/nixpkgs/blob/be1f0363aa66bd9bb0be11d6e3f90af09e9f237c/pkgs/misc/uboot/rock64-fdt-dtc-compatibility.patch
---
 include/fdt.h        | 6 +++---
 include/libfdt.h     | 6 +++---
 include/libfdt_env.h | 6 +++---
 3 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/include/fdt.h b/include/fdt.h
index 526aedb515..74961f9026 100644
--- a/include/fdt.h
+++ b/include/fdt.h
@@ -1,5 +1,5 @@
-#ifndef _FDT_H
-#define _FDT_H
+#ifndef FDT_H
+#define FDT_H
 /*
  * libfdt - Flat Device Tree manipulation
  * Copyright (C) 2006 David Gibson, IBM Corporation.
@@ -108,4 +108,4 @@ struct fdt_property {
 #define FDT_V16_SIZE	FDT_V3_SIZE
 #define FDT_V17_SIZE	(FDT_V16_SIZE + sizeof(fdt32_t))
 
-#endif /* _FDT_H */
+#endif /* FDT_H */
diff --git a/include/libfdt.h b/include/libfdt.h
index e2bc2e00c1..29d2b1646f 100644
--- a/include/libfdt.h
+++ b/include/libfdt.h
@@ -1,5 +1,5 @@
-#ifndef _LIBFDT_H
-#define _LIBFDT_H
+#ifndef LIBFDT_H
+#define LIBFDT_H
 /*
  * libfdt - Flat Device Tree manipulation
  * Copyright (C) 2006 David Gibson, IBM Corporation.
@@ -2134,4 +2134,4 @@ int fdt_next_region(const void *fdt,
 int fdt_add_alias_regions(const void *fdt, struct fdt_region *region, int count,
 			  int max_regions, struct fdt_region_state *info);
 
-#endif /* _LIBFDT_H */
+#endif /* LIBFDT_H */
diff --git a/include/libfdt_env.h b/include/libfdt_env.h
index 6c6845f76c..1fbcd0ef83 100644
--- a/include/libfdt_env.h
+++ b/include/libfdt_env.h
@@ -6,8 +6,8 @@
  * SPDX-License-Identifier:	LGPL-2.1+
  */
 
-#ifndef _LIBFDT_ENV_H
-#define _LIBFDT_ENV_H
+#ifndef LIBFDT_ENV_H
+#define LIBFDT_ENV_H
 
 #include "compiler.h"
 #include "linux/types.h"
@@ -32,4 +32,4 @@ typedef __be64 fdt64_t;
 /* adding a ramdisk needs 0x44 bytes in version 2008.10 */
 #define FDT_RAMDISK_OVERHEAD	0x80
 
-#endif /* _LIBFDT_ENV_H */
+#endif /* LIBFDT_ENV_H */
-- 
2.22.0

